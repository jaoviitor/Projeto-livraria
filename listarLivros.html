<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Livros</title>
  </head>
  <body>
    <h1>Lista de Livros</h1>

    <ul id="livros-lista"></ul>

    <script>
      // Função para carregar a lista de livros do servidor
      function carregarLivros() {
        fetch('http://localhost:3000/livros')
          .then(res => res.json())
          .then(livros => {
            const lista = document.getElementById('livros-lista');
            lista.innerHTML = ''; // Limpa a lista atual

            // Adiciona cada livro na lista
            livros.forEach(livro => {
              const item = document.createElement('li');
              item.innerHTML = `
                <strong>${livro.nome}</strong> - ${livro.autor} (${livro.editora}, ${livro.ano}) - R$ ${livro.preco}
              `;
              lista.appendChild(item);
            });
          })
          .catch(err => console.error(err));
      }

      // Chama a função de carregar livros ao carregar a página
      document.addEventListener('DOMContentLoaded', carregarLivros);
    </script>
  </body>
</html>